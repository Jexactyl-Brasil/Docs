"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1724],{3905:(e,n,r)=>{r.d(n,{Zo:()=>p,kt:()=>f});var a=r(7294);function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?o(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function s(e,n){if(null==e)return{};var r,a,t=function(e,n){if(null==e)return{};var r,a,t={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],n.indexOf(r)>=0||(t[r]=e[r]);return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var l=a.createContext({}),c=function(e){var n=a.useContext(l),r=n;return e&&(r="function"==typeof e?e(n):i(i({},n),e)),r},p=function(e){var n=c(e.components);return a.createElement(l.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var r=e.components,t=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(r),m=t,f=u["".concat(l,".").concat(m)]||u[m]||d[m]||o;return r?a.createElement(f,i(i({ref:n},p),{},{components:r})):a.createElement(f,i({ref:n},p))}));function f(e,n){var r=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var o=r.length,i=new Array(o);i[0]=m;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[u]="string"==typeof e?e:t,i[1]=s;for(var c=2;c<o;c++)i[c]=r[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},4532:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var a=r(7462),t=(r(7294),r(3905));const o={sidebar_position:3},i="Nginx sem SSL",s={unversionedId:"Jexactyl/Servidor Web/nginx",id:"Jexactyl/Servidor Web/nginx",title:"Nginx sem SSL",description:"*",source:"@site/docs/3 - Jexactyl/3 - Servidor Web/nginx.md",sourceDirName:"3 - Jexactyl/3 - Servidor Web",slug:"/Jexactyl/Servidor Web/nginx",permalink:"/docs/Jexactyl/Servidor Web/nginx",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Nginx com SSL",permalink:"/docs/Jexactyl/Servidor Web/nginx-ssl"},next:{title:"Apache com SSL",permalink:"/docs/Jexactyl/Servidor Web/apache-ssl"}},l={},c=[{value:"Remova a configura\xe7\xe3o padr\xe3o",id:"remova-a-configura\xe7\xe3o-padr\xe3o",level:3},{value:"Criar arquivo de configura\xe7\xe3o",id:"criar-arquivo-de-configura\xe7\xe3o",level:3},{value:"Ativando a Configura\xe7\xe3o",id:"ativando-a-configura\xe7\xe3o",level:3}],p={toc:c},u="wrapper";function d(e){let{components:n,...r}=e;return(0,t.kt)(u,(0,a.Z)({},p,r,{components:n,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"nginx-sem-ssl"},"Nginx sem SSL"),(0,t.kt)("hr",null),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"A Jexactyl recomenda enfaticamente que voc\xea use SSL para proteger seu site.\nConsidere habilitar o SSL seguindo o guia ",(0,t.kt)("a",{parentName:"p",href:"/docs/Jexactyl/Servidor%20Web/setup-ssl"},"Configurando o SSL"),".")),(0,t.kt)("hr",null),(0,t.kt)("h3",{id:"remova-a-configura\xe7\xe3o-padr\xe3o"},"Remova a configura\xe7\xe3o padr\xe3o"),(0,t.kt)("p",null,"Em primeiro lugar, vamos remover a configura\xe7\xe3o NGINX padr\xe3o do seu servidor."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-bash"},"rm /etc/nginx/sites-available/default; rm /etc/nginx/sites-enabled/default\n")),(0,t.kt)("p",null,"Feito isso, podemos fazer nossa configura\xe7\xe3o para o Jexactyl rodar."),(0,t.kt)("hr",null),(0,t.kt)("h3",{id:"criar-arquivo-de-configura\xe7\xe3o"},"Criar arquivo de configura\xe7\xe3o"),(0,t.kt)("admonition",{type:"danger"},(0,t.kt)("p",{parentName:"admonition"},"Certifique-se de substituir ",(0,t.kt)("inlineCode",{parentName:"p"},"<domain>")," pelo seu pr\xf3prio dom\xednio neste arquivo de configura\xe7\xe3o.\nObserve tamb\xe9m que esta configura\xe7\xe3o \xe9 para NGINX com SSL ativado.\nSe voc\xea deseja usar o Apache como servidor web ou n\xe3o deseja usar SSL, consulte\n\xe0s instru\xe7\xf5es do outro servidor web.")),(0,t.kt)("p",null,"Fa\xe7a um arquivo chamado ",(0,t.kt)("inlineCode",{parentName:"p"},"panel.conf")," em ",(0,t.kt)("inlineCode",{parentName:"p"},"/etc/nginx/sites-available")," e insira o seguinte:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-nginx"},'server {\n    # Replace the example <domain> with your domain name or IP address\n    listen 80;\n    server_name <domain>;\n\n\n    root /var/www/jexactyl/public;\n    index index.html index.htm index.php;\n    charset utf-8;\n\n    location / {\n        try_files $uri $uri/ /index.php?$query_string;\n    }\n\n    location = /favicon.ico { access_log off; log_not_found off; }\n    location = /robots.txt  { access_log off; log_not_found off; }\n\n    access_log off;\n    error_log  /var/log/nginx/jexactyl.app-error.log error;\n\n    # allow larger file uploads and longer script runtimes\n    client_max_body_size 100m;\n    client_body_timeout 120s;\n\n    sendfile off;\n\n    location ~ \\.php$ {\n        fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n        fastcgi_pass unix:/run/php/php8.1-fpm.sock;\n        fastcgi_index index.php;\n        include fastcgi_params;\n        fastcgi_param PHP_VALUE "upload_max_filesize = 100M \\n post_max_size=100M";\n        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        fastcgi_param HTTP_PROXY "";\n        fastcgi_intercept_errors off;\n        fastcgi_buffer_size 16k;\n        fastcgi_buffers 4 16k;\n        fastcgi_connect_timeout 300;\n        fastcgi_send_timeout 300;\n        fastcgi_read_timeout 300;\n    }\n\n    location ~ /\\.ht {\n        deny all;\n    }\n}\n\n')),(0,t.kt)("hr",null),(0,t.kt)("h3",{id:"ativando-a-configura\xe7\xe3o"},"Ativando a Configura\xe7\xe3o"),(0,t.kt)("p",null,"Em primeiro lugar, vamos vincular o arquivo que criamos ao diret\xf3rio que o NGINX usa para configura\xe7\xf5es."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-bash"},"ln -s /etc/nginx/sites-available/panel.conf /etc/nginx/sites-enabled/panel.conf\n")),(0,t.kt)("p",null,"Em seguida, podemos testar nossa configura\xe7\xe3o nginx para garantir que esteja funcionando e seja v\xe1lida:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-bash"},"nginx -t\n")),(0,t.kt)("p",null,"Por fim, podemos reiniciar o processo do servidor NGINX para disponibilizar nosso Painel no dom\xednio."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-bash"},"systemctl restart nginx\n")),(0,t.kt)("admonition",{title:"Parab\xe9ns! ",type:"info"},(0,t.kt)("p",{parentName:"admonition"},"Jexactyl est\xe1 instalado e deve estar funcionando normalmente.\nSe voc\xea encontrar algum problema, informe-nos em nosso ",(0,t.kt)("a",{parentName:"p",href:"https://discord.gg/8r7n7mU33R"},"Discord"),".")))}d.isMDXComponent=!0}}]);